name: Update fork
on:
  workflow_dispatch:
  push:
    branches:
      - test
permissions:
  pull-requests: write
jobs:
  updateFork:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
        with:
          repository: SasithonSS/GoodJob
      - name: Reset the default branch with upstream changes
        run: |
          git remote add upstream  https://github.com/SasithonS/GoodJob.git
          git fetch upstream main:main
          git reset --hard main
      - name: create-pull-request
        run: |
          gh pr create --base main --head test --title "[Auto] Pull request" --body "Description"
        env:
          GITHUB_TOKEN: ${{ secrets.ST_GOODJOB_PAT }}
